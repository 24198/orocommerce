services:
    oro_pricing.api.rebuild_price_lists_for_website_customer_group:
        class: 'Oro\Bundle\PricingBundle\Api\Processor\RebuildPriceListsForWebsiteCustomerGroupProcessor'
        arguments:
            - '@oro_pricing.price_list_relation_trigger_handler'
        tags:
            - { name: oro.api.processor, action: create, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_customer_group_fallback.class%' }
            - { name: oro.api.processor, action: update, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_customer_group_fallback.class%' }
            - { name: oro.api.processor, action: delete, group: delete_data, priority: 0, class: '%oro_pricing.entity.price_list_customer_group_fallback.class%' }
            - { name: oro.api.processor, action: delete_list, group: delete_data, priority: 0, class: '%oro_pricing.entity.price_list_customer_group_fallback.class%' }
            - { name: oro.api.processor, action: create, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_to_customer_group.class%' }
            - { name: oro.api.processor, action: update, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_to_customer_group.class%' }
            - { name: oro.api.processor, action: delete, group: delete_data, priority: 0, class: '%oro_pricing.entity.price_list_to_customer_group.class%' }
            - { name: oro.api.processor, action: delete_list, group: delete_data, priority: 0, class: '%oro_pricing.entity.price_list_to_customer_group.class%' }

    oro_pricing.api.rebuild_price_lists_for_website_customer:
        class: 'Oro\Bundle\PricingBundle\Api\Processor\RebuildPriceListsForWebsiteCustomerProcessor'
        arguments:
            - '@oro_pricing.price_list_relation_trigger_handler'
        tags:
            - { name: oro.api.processor, action: create, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_customer_fallback.class%' }
            - { name: oro.api.processor, action: update, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_customer_fallback.class%' }
            - { name: oro.api.processor, action: delete, group: delete_data, priority: -220, class: '%oro_pricing.entity.price_list_customer_fallback.class%' }
            - { name: oro.api.processor, action: delete_list, group: delete_data, priority: -220, class: '%oro_pricing.entity.price_list_customer_fallback.class%' }
            - { name: oro.api.processor, action: create, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_to_customer.class%' }
            - { name: oro.api.processor, action: update, group: save_data, priority: -40, class: '%oro_pricing.entity.price_list_to_customer.class%' }
            - { name: oro.api.processor, action: delete, group: delete_data, priority: -220, class: '%oro_pricing.entity.price_list_to_customer.class%' }
            - { name: oro.api.processor, action: delete_list, group: delete_data, priority: -220, class: '%oro_pricing.entity.price_list_to_customer.class%' }

    oro_pricing.api.set_default_website:
        class: 'Oro\Bundle\WebsiteBundle\Api\Processor\SetDefaultWebsiteProcessor'
        arguments:
            - '@oro_website.manager'
        tags:
            - { name: oro.api.processor, action: create, group: load_data, priority: -100, class: '%oro_pricing.entity.price_list_customer_group_fallback.class%' }
            - { name: oro.api.processor, action: create, group: load_data, priority: -100, class: '%oro_pricing.entity.price_list_to_customer_group.class%' }
            - { name: oro.api.processor, action: create, group: load_data, priority: -100, class: '%oro_pricing.entity.price_list_customer_fallback.class%' }
            - { name: oro.api.processor, action: create, group: load_data, priority: -100, class: '%oro_pricing.entity.price_list_to_customer.class%' }
