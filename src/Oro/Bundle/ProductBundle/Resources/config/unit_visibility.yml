services:
    oro_product.event_listener.unit_visibility.datagrid_basic:
        class: 'Oro\Bundle\ProductBundle\EventListener\UnitVisibilityModeDataGridListener'
        abstract: true
        arguments:
            - 'unitCode'
            - 'quantity'
            - 'OroProductBundle:Product:Datagrid/quantitySingleMode.html.twig'
            - {isShortUnitCode: true}
            - '@oro_product.service.single_unit_mode'

    oro_product.form.type.extension.unit_visibility.default_and_primary_unit_selection:
        class: 'Oro\Bundle\ProductBundle\Form\Extension\UnitVisibility\DefaultAndPrimaryProductUnitSelectionOwnerTypeExtension'
        abstract: true

    oro_product.form.type.extension.unit_visibility.product_primary_unit:
        parent: oro_product.form.type.extension.unit_visibility.default_and_primary_unit_selection
        arguments:
            - 'unit'
            - '%oro_product.form.type.product_primary_unit_precision.class%'
            - "@oro_product.service.single_unit_mode"
        tags:
            - { name: form.type_extension, extended_type: '%oro_product.form.type.product_primary_unit_precision.class%' }
