services:

    oro_apruve.apruve.generator.order_secure_hash:
        class: 'Oro\Bundle\ApruveBundle\Apruve\Generator\OrderSecureHashGenerator'

    oro_apruve.apruve.helper.amount_normalizer:
        class: 'Oro\Bundle\ApruveBundle\Apruve\Helper\AmountNormalizer'
        public: false

    oro_apruve.apruve.provider.supported_currencies:
        class: 'Oro\Bundle\ApruveBundle\Apruve\Provider\SupportedCurrenciesProvider'
        public: false

    oro_apruve.apruve.builder.factory.order:
        class: 'Oro\Bundle\ApruveBundle\Apruve\Builder\Order\ApruveOrderBuilderFactory'
        lazy: true
        public: false

    oro_apruve.apruve.builder.factory.line_item:
        class: 'Oro\Bundle\ApruveBundle\Apruve\Builder\LineItem\ApruveLineItemBuilderFactory'
        lazy: true
        public: false

    oro_apruve.apruve.factory.abstract_entity:
        class: 'Oro\Bundle\ApruveBundle\Apruve\Factory\AbstractApruveEntityFactory'
        abstract: true
        arguments:
            - '@oro_apruve.apruve.helper.amount_normalizer'

    oro_apruve.apruve.factory.line_item:
        parent: oro_apruve.apruve.factory.abstract_entity
        class: 'Oro\Bundle\ApruveBundle\Apruve\Factory\LineItem\ApruveLineItemFromPaymentLineItemFactory'
        arguments:
            - '@oro_apruve.apruve.builder.factory.line_item'
            - '@router'
        lazy: true
        public: false

    oro_apruve.apruve.factory.order:
        parent: oro_apruve.apruve.factory.abstract_entity
        class: 'Oro\Bundle\ApruveBundle\Apruve\Factory\Order\ApruveOrderFromPaymentContextFactory'
        arguments:
            - '@oro_apruve.apruve.builder.factory.order'
            - '@oro_apruve.apruve.factory.line_item'
            - '@oro_apruve.provider.shipping_amount'
            - '@oro_apruve.provider.tax_amount'
        lazy: true
        public: false
