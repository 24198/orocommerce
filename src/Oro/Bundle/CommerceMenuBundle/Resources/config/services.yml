parameters:
    oro_commerce_menu.entity.menu_update.class: 'Oro\Bundle\CommerceMenuBundle\Entity\MenuUpdate'

services:
    oro_frontend_navigation.repository.menu_update:
        parent: oro_entity.abstract_repository
        arguments:
            - '%oro_commerce_menu.entity.menu_update.class%'

    oro_frontend_navigation.ownership_provider.global:
        class: Oro\Bundle\NavigationBundle\Menu\Provider\GlobalOwnershipProvider
        arguments:
            - '@oro_frontend_navigation.repository.menu_update'
        tags:
            - { name: oro_navigation.ownership_provider, area: frontend, priority: 200 }

    oro_commerce_menu.ownership_provider.account:
        class: 'Oro\Bundle\CommerceMenuBundle\Provider\AccountOwnershipProvider'
        arguments:
            - '@oro_frontend_navigation.repository.menu_update'
            - '@security.token_storage'
        tags:
            - { name: oro_navigation.ownership_provider, area: frontend, priority: 100 }
