OroB2B\Bundle\PricingBundle\Entity\PriceList:
    constraints:
        - OroB2B\Bundle\PricingBundle\Validator\Constraints\PriceListProductPricesCurrency: ~
    properties:
        name:
            - NotBlank: ~
            - Length:
                max: 255
        currencies:
            - NotBlank: ~
            - Valid: ~
        schedules:
            - OroB2B\Bundle\PricingBundle\Validator\Constraints\SchedulesIntersection: ~
            - Valid: ~
        priceRules:
            - Valid: ~
        productAssignmentRule:
            - OroB2B\Bundle\PricingBundle\Validator\Constraints\PriceRuleConditionalExpression: ~

OroB2B\Bundle\PricingBundle\Entity\PriceAttributePriceList:
    constraints:
        - OroB2B\Bundle\PricingBundle\Validator\Constraints\PriceListProductPricesCurrency: ~
    properties:
        name:
            - NotBlank: ~
            - Length:
                max: 255
        fieldName:
            - Regex:
                pattern: '/^[a-zA-Z0-9_]+$/'
                htmlPattern: '/^[a-zA-Z0-9_]+$/'
                message: 'orob2b.pricing.validators.price_attrirute_price_list.fieldName.message'
            - NotBlank: ~
            - Length:
                max: 255
        currencies:
            - NotBlank: ~
            - Valid: ~

OroB2B\Bundle\PricingBundle\Entity\PriceListSchedule:
    constraints:
        - OroB2B\Bundle\PricingBundle\Validator\Constraints\DatesChain:
            chain:
                activeAt: 'Active At'
                deactivateAt: 'Deactivate At'

OroB2B\Bundle\PricingBundle\Entity\PriceRule:
    properties:
        currency:
            - NotBlank: ~
            - Currency: ~
        quantity:
            - NotBlank:
                message: 'orob2b.pricing.validators.product_price.quantity.blank'
            - OroB2B\Bundle\ValidationBundle\Validator\Constraints\Decimal: ~
            - OroB2B\Bundle\ValidationBundle\Validator\Constraints\GreaterThanZero: ~
        productUnit:
            - NotBlank:
                message: 'orob2b.product.productunit.invalid'
        ruleCondition:
            - NotBlank: ~
            - OroB2B\Bundle\PricingBundle\Validator\Constraints\PriceRuleConditionalExpression: ~
        rule:
            - NotBlank: ~
            - OroB2B\Bundle\PricingBundle\Validator\Constraints\PriceRuleExpression: ~
        priority:
            - NotBlank: ~
            - Type:
                type: integer

OroB2B\Bundle\PricingBundle\Entity\PriceListCurrency:
    properties:
        priceList:
            - NotBlank: ~
        currency:
            - NotBlank: ~
            - Currency: ~

OroB2B\Bundle\PricingBundle\Entity\ProductPrice:
    constraints:
        - OroB2B\Bundle\PricingBundle\Validator\Constraints\ProductPriceAllowedUnits: ~
        - OroB2B\Bundle\PricingBundle\Validator\Constraints\ProductPriceCurrency: ~
        - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity:
            fields:  [ product, priceList, quantity, unit, currency ]
            message: orob2b.pricing.validators.product_price.unique_entity.message
    properties:
        product:
            - NotBlank: ~
        productSku:
            - NotBlank: ~
        priceList:
            - NotBlank: ~
        quantity:
            - NotBlank:
                message: 'orob2b.pricing.validators.product_price.quantity.blank'
            - Range:
                min: 0
        price:
            - NotBlank: ~
            - Valid: ~
        unit:
            - NotBlank:
                message: 'orob2b.product.productunit.invalid'

OroB2B\Bundle\PricingBundle\SystemConfig\PriceListConfig:
    properties:
        priority:
            - NotBlank: ~
            - Type:
                type: integer
        priceList:
            - NotBlank: ~

OroB2B\Bundle\ProductBundle\Entity\Product:
    properties:
        unitPrecisions:
            - OroB2B\Bundle\PricingBundle\Validator\Constraints\PriceForProductUnitExists: ~
