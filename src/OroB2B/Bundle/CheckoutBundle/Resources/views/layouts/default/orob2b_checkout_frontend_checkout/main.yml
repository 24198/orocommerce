layout:
    actions:
        - @setBlockTheme:
            themes: 'OroB2BCheckoutBundle:layouts:default/orob2b_checkout_frontend_checkout/templates/main.html.twig'
        - @addTree:
            items:
                checkout_content:
                    blockType: container
                    options:
                        vars:
                            checkout: { @value: $data.checkout}
                checkout_information:
                    blockType: container
                    options:
                        vars:
                            workflowStep: { @value: $data.workflowStep }
                            stepOrder: '-'
                checkout_form:
                    blockType: container
                    options:
                        vars:
                            checkout: { @value: $data.checkout }
                            workflowStep: { @value: $data.workflowStep }
                            form: { @value: $data.orob2b_checkout_transition_form }
                checkout_form_fields:
                    blockType: container
                    options:
                        vars:
                            checkout: { @value: $data.checkout }
                            form: { @value: $data.orob2b_checkout_transition_form }
                checkout_form_buttons:
                    blockType: container
                checkout_button_continue:
                    blockType: checkout_transition_continue
                    options:
                        transitionData: { @value: $data.orob2b_checkout_continue_transition }
                        checkout: { @value: $data.checkout }
                checkout_button_back:
                    blockType: checkout_transition_back
                    options:
                        transitionData: { @value: $data.orob2b_checkout_back_transition }
                        checkout: { @value: $data.checkout }

                checkout_order_summary:
                    blockType: container
                    options:
                        visible: { @neq: [$context.workflowStepName, 'place_order'] }
                        vars:
                            summary_data: { @value: $data.orob2b_checkout_summary}
                checkout_order_summary_table:
                    blockType: block
                    options:
                        vars:
                            summary_data: { @value: $data.orob2b_checkout_summary}
            tree:
                content:
                    checkout_content:
                        checkout_information:
                            checkout_form:
                                checkout_form_fields: ~
                                checkout_form_buttons:
                                    checkout_button_continue: ~
                                    checkout_button_back: ~
                        checkout_order_summary:
                            checkout_order_summary_table: ~
