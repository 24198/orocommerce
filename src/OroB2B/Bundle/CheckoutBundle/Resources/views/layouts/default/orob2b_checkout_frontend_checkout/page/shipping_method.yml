layout:
    actions:
        - '@setBlockTheme':
            themes:
                - 'OroB2BShippingBundle:layouts:default/orob2b_shipping_methods/layout.html.twig'
                - 'OroB2BCheckoutBundle:layouts:default/orob2b_checkout_frontend_checkout/templates/shipping_method.html.twig'
        - '@setFormTheme':
            themes:
                - 'OroB2BShippingBundle:layouts:default/orob2b_shipping_methods/form.html.twig'
        - '@setOption':
            id: checkout_information
            optionName: stepOrder
            optionValue: 3
        - '@addTree':
            items:
                checkout_form_buttons:
                    blockType: container
                    siblingId: checkout_form_fields
                checkout_button_continue:
                    blockType: checkout_transition_continue
                    options:
                        transitionData: { '@value': $data.orob2b_checkout_continue_transition }
                        checkout: { '@value': $data.checkout }
                checkout_button_back:
                    blockType: checkout_transition_back
                    options:
                        transitionData: { '@value': $data.orob2b_checkout_back_transition }
                        checkout: { '@value': $data.checkout }
            tree:
                checkout_form:
                    checkout_form_buttons:
                          checkout_button_continue: ~
                          checkout_button_back: ~

        - '@add':
            id: shipping_methods
            parentId: checkout_information
            blockType: shipping_methods
            prepend: true
            options:
                class_prefix: 'checkout'
                methods: { '@value': $data.shipping_methods_data_provider }
                currentShippingMethod: { '@value': $data.checkout.shippingMethod }

    conditions:
        '@and':
            - '@eq': [$context.workflowStepName, 'enter_shipping_method']
            - '@empty': [$context.widget_container]
