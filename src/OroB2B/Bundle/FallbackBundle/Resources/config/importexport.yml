parameters:
    orob2b_fallback.importexport.data_converter.abstact_localized_fallback_value_aware.class: OroB2B\Bundle\FallbackBundle\ImportExport\DataConverter\AbstractLocalizedFallbackValueAwareDataConverter
    orob2b_fallback.importexport.data_converter.abstact_property_path_title.class: OroB2B\Bundle\FallbackBundle\ImportExport\DataConverter\AbstractPropertyPathTitleDataConverter
    orob2b_fallback.importexport.strategy.localized_fallback_value_aware.class: OroB2B\Bundle\FallbackBundle\ImportExport\Strategy\LocalizedFallbackValueAwareStrategy
    orob2b_fallback.importexport.normalizer.localized_fallback_value_collection_normalizer: OroB2B\Bundle\FallbackBundle\ImportExport\Normalizer\LocalizedFallbackValueCollectionNormalizer

services:
    orob2b_fallback.importexport.data_converter.abstact_property_path_title:
        class: %orob2b_fallback.importexport.data_converter.abstact_property_path_title.class%
        abstract: true
        arguments:
            - @doctrine
            - @oro_importexport.field.field_helper
            - @oro_importexport.data_converter.relation_calculator

    orob2b_fallback.importexport.data_converter.abstact_localized_fallback_value_aware:
        class: %orob2b_fallback.importexport.data_converter.abstact_localized_fallback_value_aware.class%
        parent: orob2b_fallback.importexport.data_converter.abstact_property_path_title
        abstract: true
        calls:
            - [setLocalizedFallbackValueClassName, [%orob2b_fallback.entity.localized_fallback_value.class%]]
            - [setLocaleClassName, [%orob2b_website.locale.class%]]

    orob2b_fallback.importexport.strategy.localized_fallback_value_aware:
        class: %orob2b_fallback.importexport.strategy.localized_fallback_value_aware.class%
        parent: oro_importexport.strategy.configurable_add_or_replace
        calls:
            - [setLocalizedFallbackValueClass, [%orob2b_fallback.entity.localized_fallback_value.class%]]

    orob2b_fallback.importexport.normalizer.localized_fallback_value_collection_normalizer:
        class: %orob2b_fallback.importexport.normalizer.localized_fallback_value_collection_normalizer%
        arguments:
            - @doctrine
            - %orob2b_fallback.entity.localized_fallback_value.class%
        tags:
            - { name: oro_importexport.normalizer, priority: -5 }
