{% import 'OroB2BShoppingListBundle:ShoppingList/Frontend:buttons.html.twig' as buttons %}

{% set buttonOptions = {
    dataUrl: false,
    dataAttributes: {
        'product-add-to-button': params.buttonOptions.page_component_module|default('orob2bshoppinglist/js/handlers/product-quick-add-to-shopping-list-handler'),
        'options': {
            'quickAddComponentPrefix': 'quick-add'
        }|merge(params.buttonOptions.page_component_options|default({}))
    }
} %}

{% set buttonsOptions = {
    new: buttonOptions,
    current: buttonOptions,
    existing: buttonOptions,
    shoppingLists: actionData.shoppingLists,
} %}

<div class="widget-content btn-group">
    <div class="mass-action-controls">
        {% import 'OroUIBundle::macros.html.twig' as UI %}
        {{ UI.pinnedDropdownButton({
            'html': buttons.getButtonsHtml(buttonsOptions),
            'options': {
                'widgetModule': 'orob2bproduct/js/content-processor/product-add-to-dropdown-button',
                'widgetName': 'productAddToDropdownButtonProcessor',
                'truncateLength': 25
            }
        }) }}
    </div>
</div>
