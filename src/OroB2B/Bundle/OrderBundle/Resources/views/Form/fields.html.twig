{# TODO: Fix markup for line item #}
{% block orob2b_order_line_items_collection_row %}
    <div class="order-orderproduct-collection">
        <table class="order-orderproduct-collection order-orderproduct-collection-table">
            <thead>
                <tr>
                    <th>{{ 'orob2b.product.entity_label'|trans }}</th>
                    <th>{{ 'orob2b.order.orderlineitem.quantity.label'|trans }}</th>
                    <th>{{ 'orob2b.order.orderlineitem.price_type.label'|trans }}</th>
                    <th>{{ 'orob2b.product.productunit.entity_label'|trans }}</th>
                    <th>{{ 'orob2b.order.orderlineitem.price.label'|trans }}</th>
                    <th>{{ 'orob2b.order.orderlineitem.ship_by.label'|trans }}</th>
                    <th>{{ 'orob2b.order.orderlineitem.comment.label'|trans }}</th>
                </tr>
            </thead>
            <tbody>
                {{ form_widget(form) }}
            </tbody>
        </table>
    </div>
{% endblock %}

{% block orob2b_order_line_item_widget %}
    {% set attr = attr|merge({'class': (attr.class is defined ? attr.class : '') ~ ' order-orderlineitems-widget control-group'}) %}

    {% set commentAccount = form.vars.value.commentAccount|default(null) %}
    {% set commentSeller = form.vars.value.comment|default(null) %}

    {#<table >#}
    <tr class="order-orderlineitems-collection-table" {{ block('widget_container_attributes') }}
        data-page-component-options="{{ componentOptions|json_encode }}"
        data-page-component-module="orob2border/js/app/components/order-orderproductitem-selection-component">
        <td class="order-orderlineitems-table-column-1">
            <div class="order-orderlineitems-product-select">
                {{ form_widget(form.product) }}
                {{ form_errors(form.product) }}

                {{ form_widget(form.freeFormProduct) }}
                {{ form_errors(form.freeFormProduct) }}
            </div>
        </td>
        <td class="order-orderlineitems-widget-quantity">
            {{ form_widget(form.quantity) }}
            {{ form_errors(form.quantity) }}
        </td>
        <td class="order-orderlineitems-widget-pricetype">
            {{ form_widget(form.priceType) }}
            {{ form_errors(form.priceType) }}
        </td>
        <td class="order-orderlineitems-widget-productunit">
            {{ form_widget(form.productUnit, {attr: attr|merge({class: 'order-orderlineitems-productunit-select'})}) }}
            {{ form_errors(form.productUnit) }}
        </td>
        <td class="order-orderlineitems-widget-price">
            {{ form_widget(form.price) }}
            {{ form_errors(form.price) }}
        </td>
        <td class="order-orderlineitems-widget-productunit">
            {{ form_widget(form.shipBy) }}
            {{ form_errors(form.shipBy) }}
        </td>
        <td>
            {{ form_row(form.comment) }}
        </td>
    </tr>
    {#</table>#}
{% endblock %}
