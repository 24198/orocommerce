operations:
    orob2b_order_frontend_order_grid_create:
        label: orob2b.frontend.order.create.label
        applications: [frontend]
        routes:
            - orob2b_order_frontend_index
        acl_resource: orob2b_order_frontend_create
        order: 10
        actions:
            - @redirect:
                parameters:
                    route: orob2b_order_frontend_create

    orob2b_order_capture:
        label: orob2b.payment.capture
        button_options:
            icon: icon-credit-card
        applications: [backend]
        routes:
            - orob2b_order_view
        acl_resource: orob2b_payment_transaction
        order: 20
        preactions:
            - @call_service_method:
                service: orob2b_payment.provider.payment_transaction
                method: getActiveAuthorizePaymentTransaction
                method_parameters: [$.data, $.data.total, $.data.currency]
                attribute: $.authorizePaymentTransaction
        preconditions:
            @not_empty: [$.authorizePaymentTransaction]
        actions:
            - @payment_capture:
                object: $.data
                amount: $.data.total
                currency: $.data.currency
