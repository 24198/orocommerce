parameters:
    orob2b_customer.entity.customer.class: OroB2B\Bundle\CustomerBundle\Entity\Customer
    orob2b_customer.entity.customer_group.class: OroB2B\Bundle\CustomerBundle\Entity\CustomerGroup

    orob2b_customer.customer_tree_handler.class: OroB2B\Bundle\CustomerBundle\JsTree\CustomerTreeHandler
    orob2b_customer.manager.api.attribute.class: Oro\Bundle\SoapBundle\Entity\Manager\ApiEntityManager

    orob2b_customer.form.autocomplete.parent_customer.search_handler.class: OroB2B\Bundle\CustomerBundle\Autocomplete\ParentCustomerSearchHandler

    orob2b_customer.event_listener.route_collection.class: OroB2B\Bundle\CustomerBundle\EventListener\RouteCollectionListener

services:
    orob2b_customer.customer_tree_handler:
        class: %orob2b_customer.customer_tree_handler.class%
        arguments:
            - %orob2b_customer.entity.customer.class%
            - @doctrine

    orob2b_customer.manager.customer.api.attribute:
        class:  %orob2b_customer.manager.api.attribute.class%
        parent: oro_soap.manager.entity_manager.abstract
        arguments:
            - %orob2b_customer.entity.customer.class%
            - @doctrine.orm.entity_manager

    orob2b_customer.manager.group.api.attribute:
        class:  %orob2b_customer.manager.api.attribute.class%
        parent: oro_soap.manager.entity_manager.abstract
        arguments:
            - %orob2b_customer.entity.customer_group.class%
            - @doctrine.orm.entity_manager

    orob2b_customer.form.autocomplete.customer_group.search_handler:
        parent: oro_form.autocomplete.search_handler
        arguments:
            - %orob2b_customer.entity.customer_group.class%
            - ["name"]
        tags:
            - { name: oro_form.autocomplete.search_handler, alias: orob2b_customer_group, acl_resource: orob2b_customer_group_view }
        lazy: true

    orob2b_customer.form.autocomplete.customer.search_handler:
        parent: oro_form.autocomplete.search_handler
        arguments:
            - %orob2b_customer.entity.customer.class%
            - ["name"]
        tags:
            - { name: oro_form.autocomplete.search_handler, alias: orob2b_customer, acl_resource: orob2b_customer_view }
        lazy: true

    orob2b_customer.form.autocomplete.customer_parent.search_handler:
        parent: oro_form.autocomplete.search_handler
        class: %orob2b_customer.form.autocomplete.parent_customer.search_handler.class%
        arguments:
            - %orob2b_customer.entity.customer.class%
            - ["name"]
        tags:
            - { name: oro_form.autocomplete.search_handler, alias: orob2b_customer_parent, acl_resource: orob2b_customer_view }
        lazy: true

    orob2b_customer.event_listener.route_collection:
        class: %orob2b_customer.event_listener.route_collection.class%
        arguments:
            - %backend_prefix%
        tags:
            - { name: kernel.event_listener, event: oro_distribution.route_collection.autoload, method: onCollectionAutoload, priority: 120 }
        lazy: true
