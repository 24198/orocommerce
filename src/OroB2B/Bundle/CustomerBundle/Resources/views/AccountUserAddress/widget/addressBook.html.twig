<div class="widget-content">
    {# JS template for address view #}
    {% include "OroB2BCustomerBundle:AccountUserAddress/Js:address.js.twig" %}

    {# widget container and actions #}
    <div class="widget-actions">
        {% if address_edit_acl_resource is not defined or resource_granted(address_edit_acl_resource) %}
            <button class="btn btn-mini btn-primary btn-uppercase" type="button" data-action-name="add_address"> + {{ 'Add Address'|trans }}</button>
        {% endif %}
    </div>
    {% set options = {
        wid: app.request.get('_wid'),
        addressListUrl: path('orob2b_api_customer_account_user_get_accountuser_addresses', {accountUserId: entity.id}),
        addressCreateUrl: path('orob2b_customer_account_user_address_create', {accountUserId: entity.id}),
        addressUpdateRouteName: 'orob2b_customer_account_user_address_update',
        addressUpdateParams: {'accountUserId': entity.id },
        currentAddresses: render(path('orob2b_api_customer_account_user_get_accountuser_addresses', {accountUserId: entity.id}))
    } %}
    <div class="list-box map-box" id="address-book" data-page-component-module="orob2bcustomer/js/app/components/customer-address-book-component"
         data-page-component-options="{{ options|json_encode }}"></div>
</div>
