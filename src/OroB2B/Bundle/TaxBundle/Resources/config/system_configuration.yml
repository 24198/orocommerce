oro_system_configuration:
    groups:
        taxation:
            title: orob2b.tax.system_configuration.groups.taxation.title
        tax_calculation:
            title: orob2b.tax.system_configuration.groups.tax_calculation.title
            icon: icon-money
        tax_enable:
            title: orob2b.tax.system_configuration.groups.tax_enable.title
        tax_provider:
            title: orob2b.tax.system_configuration.groups.tax_provider.title
        tax_calculator:
            title: orob2b.tax.system_configuration.groups.tax_calculator.title
        tax_matcher:
            title: orob2b.tax.system_configuration.groups.tax_matcher.title

        tax_digital_products:
            title: orob2b.tax.system_configuration.groups.tax_digital_products.title
            icon: icon-list-alt
        tax_digital_products_us:
            title: orob2b.tax.system_configuration.groups.tax_digital_products_us.title
        tax_digital_products_eu:
            title: orob2b.tax.system_configuration.groups.tax_digital_products_eu.title

    fields:
        orob2b_tax.tax_enable:
            data_type: boolean
            type: oro_config_checkbox
            options:
                label: orob2b.tax.system_configuration.fields.tax_enable.label

        orob2b_tax.tax_provider:
            data_type: string
            type: orob2b_tax_provider_type
            options:
                label: orob2b.tax.system_configuration.fields.tax_provider.label

        orob2b_tax.start_calculation_with:
            data_type: string
            type: choice
            options:
                label: orob2b.tax.system_configuration.fields.start_calculation_with.label
                required: true
                constraints:
                    - NotBlank: ~
                choice_translation_domain: messages
                choices:
                    unit_price: orob2b.tax.system_configuration.fields.start_calculation_with.unit_price.label
                    row_total: orob2b.tax.system_configuration.fields.start_calculation_with.row_total.label

        orob2b_tax.product_prices_include_tax:
            data_type: boolean
            type: oro_config_checkbox
            options:
                label: orob2b.tax.system_configuration.fields.product_prices_include_tax.label

        orob2b_tax.use_as_base_by_default:
            data_type: string
            type: choice
            options:
                label: orob2b.tax.system_configuration.fields.use_as_base.default.label
                required: true
                constraints:
                    - NotBlank: ~
                choice_translation_domain: messages
                choices:
                    shipping_origin: orob2b.tax.system_configuration.fields.use_as_base.shipping_origin.label
                    destination: orob2b.tax.system_configuration.fields.use_as_base.destination.label

        orob2b_tax.use_as_base_exceptions:
            data_type: array
            type: orob2b_tax_base_exception_collection
            options:
                label: orob2b.tax.system_configuration.fields.use_as_base.exceptions.label
                data_transformer: orob2b_tax.data_transformer.product_tax_base_exception_transformer

        orob2b_tax.destination:
            data_type: string
            type: choice
            options:
                label: orob2b.tax.system_configuration.fields.destination.label
                required: true
                constraints:
                    - NotBlank: ~
                choice_translation_domain: messages
                choices:
                    billing_address: orob2b.tax.system_configuration.fields.destination.billing_address.label
                    shipping_address: orob2b.tax.system_configuration.fields.destination.shipping_addressl.label

        orob2b_tax.digital_products_us:
            data_type: array
            type: oro_jqueryselect2_hidden
            options:
                label: orob2b.tax.system_configuration.fields.digital_products_us.label
                autocomplete_alias: orob2b_product_tax_code
                data_transformer: orob2b_tax.data_transformer.product_tax_code_transformer
                configs:
                    multiple: true

        orob2b_tax.digital_products_eu:
            data_type: array
            type: oro_jqueryselect2_hidden
            options:
                label: orob2b.tax.system_configuration.fields.digital_products_eu.label
                autocomplete_alias: orob2b_product_tax_code
                data_transformer: orob2b_tax.data_transformer.product_tax_code_transformer
                configs:
                    multiple: true

    tree:
        system_configuration:
            commerce:
                children:
                    taxation:
                        priority: 500
                        children:
                            tax_calculation:
                                priority: 100
                                children:
                                    tax_enable:
                                        priority: 100
                                        children:
                                            - orob2b_tax.tax_enable
                                    tax_provider:
                                        priority: 90
                                        children:
                                            - orob2b_tax.tax_provider
                                    tax_calculator:
                                        priority: 80
                                        children:
                                            - orob2b_tax.start_calculation_with
                                            - orob2b_tax.product_prices_include_tax
                                    tax_matcher:
                                        priority: 70
                                        children:
                                            - orob2b_tax.use_as_base_by_default
                                            - orob2b_tax.use_as_base_exceptions
                                            - orob2b_tax.destination
                            tax_digital_products:
                                priority: 90
                                children:
                                    tax_digital_products_us:
                                        children:
                                            - orob2b_tax.digital_products_us
                                    tax_digital_products_eu:
                                        children:
                                            - orob2b_tax.digital_products_eu
