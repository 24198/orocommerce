{% extends 'OroUIBundle:actions:view.html.twig' %}
{% import 'OroDataGridBundle::macros.html.twig' as dataGrid %}

{% oro_title_set({params : {"%title%": "Login page" } }) %}

{% block pageHeader %}
    {% set breadcrumbs = {
        'entity': entity,
        'indexPath': path('orob2b_cms_loginpage_index'),
        'indexLabel': 'orob2b.cms.loginpage.entity_plural_label'|trans,
        'entityTitle': entity.name|default('N/A'|trans)
    } %}

    {{ parent() }}
{% endblock pageHeader %}

{% block navButtons %}
    {% if resource_granted('EDIT', entity) %}
        {{ UI.editButton({
            'path' : path('orob2b_cms_loginpage_update', { 'id': entity.id }),
            'entity_label': 'orob2b.cms.loginpage.entity_label'|trans
        }) }}
    {% endif %}
{% endblock navButtons %}

{% block content_data %}
    {% set dataBlocks = [{
        'title': 'orob2b.cms.sections.general'|trans,
        'class': 'active',
        'subblocks': [
            {'data' : [
                UI.renderProperty('orob2b.cms.loginpage.entity.topContent.label'|trans, entity.topContent|slice(0, 100)),
                UI.renderProperty('orob2b.cms.loginpage.entity.bottomContent.label'|trans, entity.bottomContent|slice(0, 100)),
                UI.renderProperty('orob2b.cms.loginpage.entity.css.label'|trans, entity.css|slice(0, 100)),
                UI.renderHtmlProperty(
                    'orob2b.cms.loginpage.entity.logoImage.label'|trans,
                    oro_image_view(entity, entity.logoImage, null, 'logoImage')
                ),
                UI.renderHtmlProperty(
                    'orob2b.cms.loginpage.entity.backgroundImage.label'|trans,
                    oro_image_view(entity, entity.backgroundImage, null, 'backgroundImage')
                )
            ]},
        ]
    }] %}

    {% set id = 'login-page-view' %}
    {% set data = {'dataBlocks': dataBlocks} %}

    {{ parent() }}
{% endblock content_data %}

{% block stats %}
    {# Must be empty, because parent view uses this block to render dates, which are not implemented in this entity #}
{% endblock stats %}
