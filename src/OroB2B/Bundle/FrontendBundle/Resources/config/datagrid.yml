datagrid:
    frontend-audit-history-grid:
        source:
            type: orm
            query:
                select:
                    - a
                    - a.id
                    - a.loggedAt
                from:
                    - { table: OroDataAuditBundle:Audit, alias: a }
                join:
                    left:
                        fields:
                            join: a.fields
                            alias: f
                where:
                    and:
                        - a.objectClass = :objectClass AND a.objectId = :objectId
        columns:
            author:
                label: oro.dataaudit.datagrid.author
                type: twig
                template: OroB2BFrontendBundle:DataAudit:author.html.twig
                frontend_type: html
                data_name: user
            loggedAt:
                label: oro.dataaudit.datagrid.logged_at
                type: field
                frontend_type: datetime
            old:
                label: oro.dataaudit.datagrid.old_values
                type: twig
                template: OroDataAuditBundle:Datagrid:Property/old.html.twig
                frontend_type: html
                data_name: data
            new:
                label: oro.dataaudit.datagrid.new_values
                type: twig
                template: OroDataAuditBundle:Datagrid:Property/new.html.twig
                frontend_type: html
                data_name: data
        properties: ~
        sorters:
            columns:
                author:
                    data_name: author
                loggedAt:
                    data_name: a.loggedAt
            default:
                loggedAt: %oro_datagrid.extension.orm_sorter.class%::DIRECTION_DESC

        filters: ~
